<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .img{
            height: 300px;
            width:300px;
        }
    </style>
</head>
<body>
    <div>
        <img src='##' class='img' data-src="./psb1.jpg"></img>
    </div>
    <div>
        <img src='##' class='img' data-src="./psb1.jpg"></img>
    </div>
    <div>
        <img src='##' class='img' data-src="./psb1.jpg"></img>
    </div>
    <div>
        <img src='##' class='img' data-src="./psb1.jpg"></img>
    </div>
    <div>
        <img src='##' class='img' data-src="./psb1.jpg"></img>
    </div>
    <div>
        <img src='##' class='img' data-src="./psb1.jpg"></img>
    </div>
    <script>
    //    (function(){
    //         var len = 0
    //         loadImg()
    //         function loadImg(){
    //                 var imgs = document.getElementsByTagName('img')
                            
    //                         //top=滚动条滚动的高度+可视区域的高度

    //                     var top = document.documentElement.scrollTop +document.documentElement.clientHeight
                        
    //                     for(var i=len;i<imgs.length;i++){
    //                         if(imgs[i].offsetTop <= top){
    //                             imgs[i].src =imgs[i].getAttribute('data-src')

    //                             //记录加载到图片的位置
    //                             len = i+1      
    //                         }
    //                     }
    //                 }
                    
    //                 let throttle = function(func,delay){
    //                     let timeout
    //                     let startTime = +new Date()
    //                     return function(){
    //                         let nowTime = +new Date()
    //                         let timing = delay-(nowTime-startTime)
    //                         let context = this
    //                         let args = arguments
    //                         clearTimeout(timeout)
    //                         if(timing<=0){
    //                             func.apply(context,args)
    //                             startTime = nowTime 
    //                         }else{
    //                             timeout = setTimeout(function(){
    //                                 func.apply(context,args)
    //                             },timing)
    //                         }
    //                     }
    //                 }
                    
    //                 window.onscroll =  throttle(loadImg,1000)
    //     })()
    function Foo() {
    this[1000] = 'test-1000'
    this[1] = 'test-1'
    this["B"] = 'bar-B'
    this[50] = 'test-50'
    this[9] =  'test-9'
    this[8] = 'test-8'
    this[3] = 'test-3'
    this[5] = 'test-5'
    this["A"] = 'bar-A'
    this["C"] = 'bar-C'
}
var bar = new Foo()

for(key in bar){
    console.log(`index:${key}  value:${bar[key]}`)
}

console.log(bar)   
    </script>
</body>
</html>
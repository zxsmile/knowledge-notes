# 一、八个钩子函数 #

## `beforeCreate`(创建前)

- 调用时期：在实例初始化之后，数据观测(`data observer`) 和 `event/watcher` 事件配置之前被调用

- 解释：数据观测和初始化事件还没开始，即`vue`实例的挂载元素`el`和数据对象`data`，`methods`下的方法，`watcher`中的事件都不能获得到，都为`undefined`，还未初始化

- 在此阶段可做的事情：加载`loading`事件

## `created`(创建后)

- 调用时期：在实例已经创建完之后调用

- 解释：在这一步，实例已完成以下的配置：数据观测(`data observer`)，属性和方法的运算， `watch/event` 事件回调。然而，挂载阶段还没开始，`$el` 属性目前不可见即可以操作`vue`实例中的数据和各种方法，但是还不能对"`dom`"节点进行操作

- 在此阶段可做的事情：结束`loading`，请求数据为`mounted`渲染做准备

## `beforeMount`(挂载前)

- 调用时期：在挂载开始之前被调用
- 解释：相关的`render`函数首次被调用。实例已完成以下的配置：编译模板，把`data`里面的数据和模板生成`html`。注意此时还没有挂载`html`到页面上，此时`DOM`还是无法操作的，此时的`vue`实例对象，相比于`created`生命周期，此时只是多了一个`$el`的属性，然而其值为`undefined`

## `mounted`(挂载后)

- 调用时期：`el` 被新创建的 `vm.$el` 替换，并挂载到实例上去之后调用该钩子
- 解释：内存中的模板，已经真实的挂载到了页面中，用户已经可以看到渲染好的页面了 ，注意： `mounted` 是实例创建期间的最后一个生命周期函数，当执行完 `mounted` 就表示，实例已经被完全创建好了
- 该阶段可做的事情：配合路由钩子使用

## `beforeUpdate`(更新前)

- 调用时期：在数据更新之前调用，发生在虚拟`DOM`重新渲染和打补丁之前。可以在该钩子中进一步地更改状态，不会触发附加的重渲染过程

- 解释：当执行 `beforeUpdate` 的时候，页面中的显示的数据，还是旧的，此时`data`数据是最新的，页面尚未和最新的数据保持同步

## `updated`(更新后)

- 调用时期:虚拟`DOM`重新渲染 和打补丁之后被调用

- 解释:当这个钩子被调用时，组件`DOM`的`data`已经更新，所以你现在可以执行依赖于`DOM`的操作。但是不要在此时修改`data`，否则会继续触发`beforeUpdate`、`updated`这两个生命周期，进入死循环

- 该阶段可做的事情：数据更新时做一些处理

## `beforeDestory`(销毁前)

- 调用时期：实例被销毁之前调用

- 解释：在这一步，实例仍然完全可用

- 该阶段可做的事：可以做一个确认停止事件的确认框

## `destoryed`(销毁后)

- 调用时期：`Vue`实例销毁后调用

- 解释：此时，`Vue`实例指示的所有东西已经解绑定，所有的事件监听器都已经被移除，所有的子实例也已经被销毁

- 该阶段可做的事：组件销毁时进行提示

# 二、相关问题 #

## `Vue`的生命周期是什么？

答:`Vue`实例从创建到销毁的过程就称之为生命周期。也就是从开始创建、初始化数据、编译模板、挂载`DOM`(渲染-更新-渲染)、卸载等一系列过程我们称之为`Vue`的生命周期

## 生命周期的作用是什么？

答：它的生命周期中有多个事件钩子，让我们在控制整个`Vue`实例的过程时更容易形成好的逻辑

## `vue`生命周期总共有几个阶段？

答：八个阶段：创建前/后，挂载前/后，更新前/后，销毁前/后

## 第一次页面加载会触发那几个钩子？

答:`beforeCreate`,`created`,`beforeMount`,`mounted`

## DOM渲染在那个周期中就已经完成？

答：`Mounted`

## `keep-alive`的生命周期？

`activated`:页面第一次进入的时候，钩子触发的顺序是：`created->mounted->activated`

`deactivated`:页面退出的时候会触发`deactivated`,当再次进入页面只会触发`activated`

##  `Vue` 子组件和父组件执行顺序

#### 加载渲染过程：

1.父组件 `beforeCreate`

2.父组件 `created`

3.父组件 `beforeMount`

4.子组件 `beforeCreate`

5.子组件 `created`

6.子组件 `beforeMount`

7.子组件 `mounted`

8.父组件 `mounted`



#### 更新过程：

1. 父组件 `beforeUpdate`

2.子组件 `beforeUpdate`

3.子组件 `updated`

4.父组件 `updated`



#### 销毁过程：

1. 父组件 `beforeDestroy`

2.子组件 `beforeDestroy`

3.子组件 `destroyed`

4.父组件 `destoryed`

##  一般在哪个生命周期请求异步数据

我们可以在钩子函数 `created`、`beforeMount`、`mounted` 中进行调用，因为在这三个钩子函数中，`data` 已经创建，可以将服务端端返回的数据进行赋值。



推荐在 `created`钩子函数中调用异步请求，因为在 `created` 钩子函数中调用异步请求有以下优点：

- 能更快获取到服务端数据，减少页面加载时间，用户体验更好；
- `SSR`不支持 `beforeMount`、`mounted` 钩子函数，放在 `created`中有助于一致性。

##  `keep-alive` 中的生命周期哪些

`keep-alive`是 `Vue` 提供的一个内置组件，用来对组件进行缓存——在组件切换过程中将状态保留在内存中，防止重复渲染`DOM`。



如果为一个组件包裹了 `keep-alive`，那么它会多出两个生命周期：`deactivated`、`activated`。同时，`beforeDestroy` 和 `destroyed` 就不会再被触发了，因为组件不会被真正销毁。



当组件被换掉时，会被缓存到内存中、触发 `deactivated` 生命周期；当组件被切回来时，再去缓存里找这个组件、触发 `activated`钩子函数。
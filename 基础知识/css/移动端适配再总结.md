一、viewport

viewport指的就是手机端浏览器的可视窗口大小，但viewport又不仅仅局限于可视窗口的大小，一般情况下，它是比默认窗口大小要大的，这是因为考虑到移动设备的分辨率相对于桌面电脑来说都比较小，所以为了能在移动端正常显示为桌面浏览器而设计的网页，移动端的浏览器都会默认把自己的默认的viewport设为980px到1024px不等，但其后果就是会出现横向滚动条，因为移动端浏览器可视区域的大小是比默认的viewport宽度要小的。

1.三种视口

  (1)布局视口（layout viewport）：指DOM宽度 使用documen.documentElement.clientWidth获取
  (2)视觉视口（visual viewport）：指屏幕宽度 使用window.innerWidth 获取
  (3)理想视口（ideal  viewport）：使布局视口为可见视口就是理想视口，ideal viewport 的意义在于，无论在何种分辨率的屏幕下，那些针对ideal viewport 而设计的网站，不需要用户手动缩放，也不需要出现横向滚动条，都可以完美的呈现给用户

2.如何实现理想视口，即就是如何将布局视口设为可见视口呢?

  - 由于meta标签里面的width属性可以控制布局视口的宽度，所以将width=device-width，就可以使布局视口宽度等于视觉视口的宽度了

     <meta name='viewport' content="width=device-width">

  - 下面这句代码可以和上面那句代码达到一样的的效果，理论上讲下面这句代码的作用只是不对当前的页面进行缩放，也就是页面本该是多大就是多大。那为什么会有 width=device-width 的效果呢？原因是它缩放是相对于理想视口来缩放的，现在缩放值为1，表示没有缩放，那得到的就是理想视口

     <meta name='viewport' content="initial-scale=1">

  - 将布局视口设置为可视视口就得到了理想视口，所以这时获取理想视口的尺寸就是documen.documentElement.clientWidth

二、像素

1.物理像素

 物理像素是显示器最小的物理显示单位，每个物理像素由颜色值和亮度值组成。所谓的一倍屏、二倍屏(Retina)、三倍屏，指的是设备以多少物理像素来显示一个CSS像素，也就是说，多倍屏以更多更精细的物理像素点来显示一个CSS像素点，在普通屏幕下1个CSS像素对应1个物理像素，而在二倍Retina屏幕下，1个CSS像素对应的却是4个物理像素

2.设备独立像素

  - 通过程序控制使用的虚拟像素，包括css像素
  - 当缩放比scale为1时，css像素等于设备独立像素

3.设备像素比

  - 设备像素比简称为dpr，物理像素与设备独立像素的比例。dpr=物理像素/设备独立像素，当缩放比scale为1时，css像素等于设备独立像素，所以dpr=物理像素/（css像素*scale）

  - 当这个比率为1:1时，使用1个物理像素显示1个设备独立像素。当这个比率为2:1=2时，使用4(2*2)个物理像素显示1个设备独立像素。当这个比率为3:1=3，使用9(3*3)个物理像素显示1个设备独立像素。
 
  - 这里要注意，dpr=2,并不是物理像素是设备独立像素的2倍，而是用4个物理像素去表示1个设备逻辑像素。应该说1个设备独立像素是1个物理像素的4倍，因为你4个网物理像素才代表我1个设备独立像素，dpr只代表一个数字比例，不是倍数关系。

  - CSS的1px等于几个物理像素，除了和屏幕像素密度dpr有关，还和用户缩放有关系。例如，当用户把页面放大一倍，那么CSS中1px所代表的物理像素也会增加一倍；反之把页面缩小一倍，CSS中1px所代表的物理像素也会减少一倍。

4.不同设备对1px有不同的定义

   - 在css中我们一般使用px作为单位，在桌面浏览器中（缩放比为1，设备独立像素等于css像素）css的1个像素往往都是对应着电脑屏幕的1个物理像素，这可能会造成我们的一个错觉，那就是css中的像素就是设备的物理像素。但实际情况却并非如此，css中的像素只是一个抽象的单位，在不同的设备或不同的环境中，css中的1px所代表的设备物理像素是不同的。在为桌面浏览器设计的网页中，我们无需对这个津津计较，但在移动设备上，必须弄明白这点。

       例如：scale为1的情况下，在iphone6中，设备宽高为375×667，可以理解为设备独立像素(或css像素)，dpr为2，根据dpr=物理像素/设备独立像素，其物理像素就应该×2，为750×1334。


三、淘宝的移动端适配方案

   - dpr = 物理分辨率/css像素（device-width：视口宽度）*scale，则device-width=物理分辨率/dpr*scale
   - 物理分辨率就是设计稿的尺寸，device-width就是视口宽度
   - 淘宝的做法就是对于不同的设备，改变scale让视口宽度和设计稿尺寸一致，即就是让scale= 1/dpr
   - 然后使用rem来做到适配
   - 规定rem和px之间的是10倍关系，根元素font-size=rem = document/10,然后子元素的尺寸根据子元素为px的值/font-size


四、网易的移动端适配方案

  - 
   
   




